fmr-decoder
===========
[![Build Status](https://travis-ci.org/dehydr8/fmr-decoder.svg?branch=master)](https://travis-ci.org/dehydr8/fmr-decoder)

PHP library for decoding __fmr__ `(ISO 19794-2)` files

## Example
```php
php examples/decode.php
```
The FMR file `samples\sample.iso`
```
00000000  46 4d 52 00 20 32 30 00  00 00 01 2c 00 00 00 fa  |FMR. 20....,....|
00000010  01 90 00 c5 00 c5 01 00  00 00 00 2d 80 77 00 d0  |...........-.w..|
00000020  8e 00 80 66 00 de ba 00  40 a7 00 df 4f 00 40 3b  |...f....@...O.@;|
00000030  00 e4 bb 00 80 7b 01 0f  cd 00 40 96 00 74 6a 00  |.....{....@..tj.|
00000040  80 c7 01 14 53 00 40 e7  00 ef 4d 00 40 bd 01 32  |....S.@...M.@..2|
00000050  57 00 80 18 01 26 bd 00  80 7d 00 3c 7c 00 80 34  |W....&...}.<|..4|
00000060  00 41 a6 00 40 0d 01 50  bd 00 40 d6 00 3b 5c 00  |.A..@..P..@..;\.|
00000070  80 49 00 16 90 00 80 85  00 d1 d7 00 80 71 00 e5  |.I...........q..|
00000080  d7 00 40 ac 00 c6 52 00  40 3b 00 da 3a 00 80 29  |..@...R.@;..:..)|
00000090  00 f6 3e 00 80 c9 00 9b  cd 00 40 db 00 9d da 00  |..>.......@.....|
000000a0  80 10 01 05 b6 00 40 83  00 4e 5e 00 80 0f 01 25  |......@..N^....%|
000000b0  b5 00 80 a8 00 43 6a 00  40 72 00 2c 82 00 40 41  |.....Cj.@r.,..@A|
000000c0  01 6c 51 00 40 c4 01 6c  63 00 40 3a 01 7b 58 00  |.lQ.@..lc.@:.{X.|
000000d0  40 7e 00 df d7 00 80 6d  00 fb cf 00 80 ae 00 dd  |@~.....m........|
000000e0  d0 00 80 b7 00 d6 49 00  40 7d 01 20 4c 00 40 13  |......I.@}. L.@.|
000000f0  00 f8 bb 00 40 e6 00 e0  4c 00 80 1f 01 1f c4 00  |....@...L.......|
00000100  40 e6 00 89 52 00 80 a8  01 4f 62 00 40 64 00 38  |@...R....Ob.@d.8|
00000110  fc 00 80 5d 00 2d fe 00  40 19 00 3b 1c 00 40 94  |...].-..@..;..@.|
00000120  00 18 74 00 40 12 01 78  dc 00 00 00              |..t.@..x....|
0000012c
```
will result in
```json
{
  "header": "FMR",
  "version": "20",
  "num_records": 300,
  "size": {
    "x": 250,
    "y": 400
  },
  "resolution": {
    "x": 197,
    "y": 197
  },
  "num_views": 1,
  "views": [
    {
      "position": 0,
      "number": 0,
      "impression_type": 0,
      "quality": 0,
      "num_minutae": 45,
      "minutae": [
        {
          "t": 2,
          "x": 119,
          "y": 208,
          "r": 142,
          "q": 0
        },
        {
          "t": 2,
          "x": 102,
          "y": 222,
          "r": 186,
          "q": 0
        },
        {
          "t": 1,
          "x": 167,
          "y": 223,
          "r": 79,
          "q": 0
        },
        {
          "t": 1,
          "x": 59,
          "y": 228,
          "r": 187,
          "q": 0
        },
        {
          "t": 2,
          "x": 123,
          "y": 271,
          "r": 205,
          "q": 0
        },
        {
          "t": 1,
          "x": 150,
          "y": 116,
          "r": 106,
          "q": 0
        },
        {
          "t": 2,
          "x": 199,
          "y": 276,
          "r": 83,
          "q": 0
        },
        {
          "t": 1,
          "x": 231,
          "y": 239,
          "r": 77,
          "q": 0
        },
        {
          "t": 1,
          "x": 189,
          "y": 306,
          "r": 87,
          "q": 0
        },
        {
          "t": 2,
          "x": 24,
          "y": 294,
          "r": 189,
          "q": 0
        },
        {
          "t": 2,
          "x": 125,
          "y": 60,
          "r": 124,
          "q": 0
        },
        {
          "t": 2,
          "x": 52,
          "y": 65,
          "r": 166,
          "q": 0
        },
        {
          "t": 1,
          "x": 13,
          "y": 336,
          "r": 189,
          "q": 0
        },
        {
          "t": 1,
          "x": 214,
          "y": 59,
          "r": 92,
          "q": 0
        },
        {
          "t": 2,
          "x": 73,
          "y": 22,
          "r": 144,
          "q": 0
        },
        {
          "t": 2,
          "x": 133,
          "y": 209,
          "r": 215,
          "q": 0
        },
        {
          "t": 2,
          "x": 113,
          "y": 229,
          "r": 215,
          "q": 0
        },
        {
          "t": 1,
          "x": 172,
          "y": 198,
          "r": 82,
          "q": 0
        },
        {
          "t": 1,
          "x": 59,
          "y": 218,
          "r": 58,
          "q": 0
        },
        {
          "t": 2,
          "x": 41,
          "y": 246,
          "r": 62,
          "q": 0
        },
        {
          "t": 2,
          "x": 201,
          "y": 155,
          "r": 205,
          "q": 0
        },
        {
          "t": 1,
          "x": 219,
          "y": 157,
          "r": 218,
          "q": 0
        },
        {
          "t": 2,
          "x": 16,
          "y": 261,
          "r": 182,
          "q": 0
        },
        {
          "t": 1,
          "x": 131,
          "y": 78,
          "r": 94,
          "q": 0
        },
        {
          "t": 2,
          "x": 15,
          "y": 293,
          "r": 181,
          "q": 0
        },
        {
          "t": 2,
          "x": 168,
          "y": 67,
          "r": 106,
          "q": 0
        },
        {
          "t": 1,
          "x": 114,
          "y": 44,
          "r": 130,
          "q": 0
        },
        {
          "t": 1,
          "x": 65,
          "y": 364,
          "r": 81,
          "q": 0
        },
        {
          "t": 1,
          "x": 196,
          "y": 364,
          "r": 99,
          "q": 0
        },
        {
          "t": 1,
          "x": 58,
          "y": 379,
          "r": 88,
          "q": 0
        },
        {
          "t": 1,
          "x": 126,
          "y": 223,
          "r": 215,
          "q": 0
        },
        {
          "t": 2,
          "x": 109,
          "y": 251,
          "r": 207,
          "q": 0
        },
        {
          "t": 2,
          "x": 174,
          "y": 221,
          "r": 208,
          "q": 0
        },
        {
          "t": 2,
          "x": 183,
          "y": 214,
          "r": 73,
          "q": 0
        },
        {
          "t": 1,
          "x": 125,
          "y": 288,
          "r": 76,
          "q": 0
        },
        {
          "t": 1,
          "x": 19,
          "y": 248,
          "r": 187,
          "q": 0
        },
        {
          "t": 1,
          "x": 230,
          "y": 224,
          "r": 76,
          "q": 0
        },
        {
          "t": 2,
          "x": 31,
          "y": 287,
          "r": 196,
          "q": 0
        },
        {
          "t": 1,
          "x": 230,
          "y": 137,
          "r": 82,
          "q": 0
        },
        {
          "t": 2,
          "x": 168,
          "y": 335,
          "r": 98,
          "q": 0
        },
        {
          "t": 1,
          "x": 100,
          "y": 56,
          "r": 252,
          "q": 0
        },
        {
          "t": 2,
          "x": 93,
          "y": 45,
          "r": 254,
          "q": 0
        },
        {
          "t": 1,
          "x": 25,
          "y": 59,
          "r": 28,
          "q": 0
        },
        {
          "t": 1,
          "x": 148,
          "y": 24,
          "r": 116,
          "q": 0
        },
        {
          "t": 1,
          "x": 18,
          "y": 376,
          "r": 220,
          "q": 0
        }
      ],
      "extended_datablock_length": 0
    }
  ]
}
```